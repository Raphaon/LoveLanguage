:root {
  /* CupidArrow Core Tokens - love / cosy palette */
  --ca-bg: #0d0616;
  --ca-bg-gradient: linear-gradient(135deg, #0d0616 0%, #1a0a33 45%, #2d0f4c 100%);
  --ca-primary: #f694c7;
  --ca-secondary: #d4a7f4;
  --ca-accent-soft: #ffd5e5;
  --ca-text: #ebebf5;
  --ca-text-muted: #b7adc8;
  --ca-card: rgba(28, 15, 52, 0.8);
  --ca-border: rgba(255, 255, 255, 0.12);
  --ca-hover: rgba(246, 148, 199, 0.14);
  --ca-error: #ff4b6b;
  --ca-success: #3dd68c;

  --ca-fs-xs: 12px;
  --ca-fs-sm: 14px;
  --ca-fs-md: 16px;
  --ca-fs-lg: 18px;
  --ca-fs-xl: 22px;
  --ca-fs-2xl: 32px;

  --ca-radius-sm: 12px;
  --ca-radius-md: 16px;
  --ca-radius-lg: 24px;
  --ca-space-2: 8px;
  --ca-space-3: 12px;
  --ca-space-4: 18px;
  --ca-space-6: 28px;
  --ca-shadow: 0 14px 36px rgba(6, 0, 18, 0.35);
  --ca-ease: cubic-bezier(.22, .61, .36, 1);
  --ca-dur-1: 160ms;
  --ca-dur-2: 260ms;

  --ca-font-display: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --ca-font-text: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;

  /* Ionic Mapping */
  --ion-background-color: var(--ca-bg);
  --ion-text-color: var(--ca-text);
  --ion-color-primary: var(--ca-primary);
  --ion-color-primary-rgb: 246, 148, 199;
  --ion-color-primary-contrast: #0d0616;
  --ion-color-primary-contrast-rgb: 13, 6, 22;
  --ion-color-primary-shade: #d887b0;
  --ion-color-primary-tint: #f8a6cf;

  --ion-color-secondary: var(--ca-secondary);
  --ion-color-secondary-rgb: 212, 167, 244;
  --ion-color-secondary-contrast: #1a0a33;
  --ion-color-secondary-contrast-rgb: 26, 10, 51;
  --ion-color-secondary-shade: #ba8ccf;
  --ion-color-secondary-tint: #dcb6f6;

  --ion-color-success: var(--ca-success);
  --ion-color-success-contrast: #0d0616;
  --ion-color-danger: var(--ca-error);
  --ion-color-danger-contrast: #ffffff;

  --ion-toolbar-background: transparent;
  --ion-card-background: var(--ca-card);
  --ion-item-background: transparent;
  --ion-border-color: var(--ca-border);
}

:root body {
  background: var(--ca-bg);
  color: var(--ca-text);
}

body.ca-dark {
  /* Dark remains default; provide light tokens for inversion */
}

body.ca-light {
  --ca-bg: #f9f5ff;
  --ca-bg-gradient: linear-gradient(160deg, #f9f5ff 0%, #f1e8ff 35%, #e7defc 100%);
  --ca-text: #1b0b2d;
  --ca-text-muted: #4c3f5f;
  --ca-card: #ffffff;
  --ca-border: rgba(27, 11, 45, 0.08);
  --ion-background-color: var(--ca-bg);
  --ion-text-color: var(--ca-text);
  --ion-card-background: var(--ca-card);
  --ion-color-primary-contrast: #ffffff;
  --ion-color-secondary-contrast: #ffffff;
}

:root {
  /* Component radii */
  --ca-button-radius: 999px;
  --ca-card-radius: var(--ca-radius-lg);
  --ca-input-radius: var(--ca-radius-md);
}

/* Ionic color palette registration */
.ion-color-cupid {
  --ion-color-base: var(--ion-color-primary);
  --ion-color-base-rgb: var(--ion-color-primary-rgb);
  --ion-color-contrast: var(--ion-color-primary-contrast);
  --ion-color-contrast-rgb: var(--ion-color-primary-contrast-rgb);
  --ion-color-shade: var(--ion-color-primary-shade);
  --ion-color-tint: var(--ion-color-primary-tint);
}

:root {
  --ion-font-family: var(--ca-font-text);
  --ion-toolbar-color: var(--ca-text);
  --ion-item-color: var(--ca-text);
  --focus-outline: 2px solid var(--ca-accent-soft);
}

/* Hover & active helpers */
:root {
  --ca-state-hover: color-mix(in srgb, var(--ca-primary) 20%, transparent);
  --ca-state-active: color-mix(in srgb, var(--ca-primary) 35%, transparent);
}
