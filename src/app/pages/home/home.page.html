<ion-header translucent="true">
  <ion-toolbar>
    <ion-title>Love Lang</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">
  <div class="page home-page">
    <section class="hero surface-card">
      <div class="hero__body">
        <p class="eyebrow">Programme guidé</p>
        <h1>Comprends ton langage de l’amour</h1>
        <p class="lead">
          Un test ultra rapide, des rituels matérialisés et des questions inspirantes
          pour nourrir chaque relation.
        </p>

        <div class="hero__meta">
          <span class="version-chip">Version 2</span>
          <p class="version-note">
            Le moteur de quiz génératif compose désormais des questions inédites
            à partir de tes gestes favoris.
          </p>
        </div>

        <div class="hero__actions">
          <ion-button color="primary" (click)="startQuiz()">
            <ion-icon slot="start" name="play-circle"></ion-icon>
            Commencer le test
          </ion-button>
          <button type="button" class="ghost" (click)="goTo('/about')">
            Découvrir l’application
          </button>
        </div>

        <div class="hero__stats">
          <div>
            <span>03 min</span>
            <p>pour répondre</p>
          </div>
          <div>
            <span>5 langages</span>
            <p>clairement expliqués</p>
          </div>
          <div>
            <span>+40 idées</span>
            <p>personnalisées</p>
          </div>
        </div>
      </div>

      <!-- Panneau latéral -->
      <div class="hero__panel glass-panel" *ngIf="questionOfTheDay || primaryLanguage">
        <!-- Dernier aperçu -->
        <div class="panel-card" *ngIf="primaryLanguage as pl">
          <p class="eyebrow">Dernier aperçu</p>
          <h3>{{ pl.label }}</h3>
          <p>{{ pl.descriptionCourte }}</p>
          <ion-button fill="clear" size="small" (click)="goTo('/results')">
            Voir les résultats
          </ion-button>
        </div>

        <!-- Question du jour -->
        <div class="panel-card secondary" *ngIf="questionOfTheDay">
          <p class="eyebrow">Question du jour</p>
          <p>{{ questionOfTheDay }}</p>
          <ion-button fill="clear" size="small" (click)="goTo('/questions')">
            Nouvelle question
          </ion-button>
        </div>
      </div>
    </section>

    <section class="modules">
      <div class="section-title">
        <p class="eyebrow">Expériences</p>
        <h2>Tout pour faire grandir vos liens</h2>
      </div>
      <div class="module-grid">
        <button type="button" class="module-card" (click)="goTo('/quiz')">
          <ion-icon name="bulb-outline"></ion-icon>
          <h3>Test guidé</h3>
          <p>15 questions adaptatives pour révéler ton langage d’amour principal.</p>
          <span>Commencer</span>
        </button>
        <button type="button" class="module-card" (click)="goTo('/gestures')">
          <ion-icon name="gift-outline"></ion-icon>
          <h3>Idées personnalisées</h3>
          <p>Des gestes concrets adaptés à ton couple, ta famille ou tes amis.</p>
          <span>Explorer</span>
        </button>
        <button type="button" class="module-card" (click)="goTo('/questions')">
          <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
          <h3>Questions inspirantes</h3>
          <p>
            Tire au sort un sujet profond ou léger pour lancer une belle conversation.
          </p>
          <span>Lancer une question</span>
        </button>
      </div>
    </section>

    <section class="insights-grid">
      <!-- Dernier résultat -->
      <article
        class="insight-card highlight"
        *ngIf="latestResult && primaryLanguage as pl"
      >
        <div class="card-head">
          <p class="eyebrow">Dernier résultat</p>
          <ion-button fill="clear" size="small" (click)="goTo('/results')">
            Voir
          </ion-button>
        </div>
        <h3>{{ pl.label }}</h3>
        <p>{{ pl.descriptionCourte }}</p>
      </article>

      <!-- Question d’ouverture -->
      <article class="insight-card" *ngIf="questionOfTheDay">
        <div class="card-head">
          <p class="eyebrow">Question d’ouverture</p>
          <ion-icon name="help-circle-outline"></ion-icon>
        </div>
        <p>{{ questionOfTheDay }}</p>
        <ion-button fill="clear" size="small" (click)="goTo('/questions')">
          Nouvelle question
        </ion-button>
      </article>

      <!-- Idées du jour -->
      <article class="insight-card" *ngIf="featuredGestures.length">
        <div class="card-head">
          <p class="eyebrow">Idées du jour</p>
          <ion-button fill="clear" size="small" (click)="goTo('/gestures')">
            Tout voir
          </ion-button>
        </div>
        <ul>
          <li *ngFor="let gesture of featuredGestures">
            <h4>{{ gesture.title }}</h4>
            <p>{{ gesture.description }}</p>
          </li>
        </ul>
      </article>
    </section>
  </div>
</ion-content>
