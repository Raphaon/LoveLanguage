<ion-header translucent="true">
  <ion-toolbar>
    <ion-title>Love Language</ion-title>
    <ion-buttons slot="end">
      <ion-button fill="clear" (click)="goTo('/results')" *ngIf="latestResult">
        <ion-icon slot="start" name="stats-chart"></ion-icon>
        Derniers résultats
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">
  <div class="page-shell home-page">
    <section class="hero">
      <div class="hero__glow"></div>
      <div class="hero__body">
        <p class="eyebrow">Programme guidé</p>
        <h1>Comprends ton langage de l’amour</h1>
        <p class="lead">
          Un test rapide, des rituels concrets et des questions inspirantes pour nourrir chaque relation.
        </p>

        <div class="hero__meta">
          <div class="meta-chip">
            <ion-icon name="sparkles-outline"></ion-icon>
            Version 2
          </div>
          <p class="version-note">
            Le quiz génératif compose désormais des questions inédites à partir de tes gestes favoris.
          </p>
        </div>

        <div class="hero__actions">
          <ion-button color="primary" size="large" (click)="startQuiz()">
            <ion-icon slot="start" name="heart"></ion-icon>
            Commencer le test
          </ion-button>
          <ion-button fill="outline" color="light" size="large" (click)="goTo('/about')">
            Découvrir l’application
          </ion-button>
        </div>

        <div class="hero__stats">
          <div class="stat-pill">
            <ion-icon name="time-outline"></ion-icon>
            <div>
              <span>03 min</span>
              <p>pour répondre</p>
            </div>
          </div>
          <div class="stat-pill">
            <ion-icon name="book-outline"></ion-icon>
            <div>
              <span>5 langages</span>
              <p>clairement expliqués</p>
            </div>
          </div>
          <div class="stat-pill">
            <ion-icon name="sparkles-outline"></ion-icon>
            <div>
              <span>+40 idées</span>
              <p>personnalisées</p>
            </div>
          </div>
        </div>
      </div>

      <div class="hero__panel" *ngIf="questionOfTheDay || primaryLanguage">
        <div class="panel-card" *ngIf="primaryLanguage as pl">
          <div class="panel-chip">Langage dominant</div>
          <h3>{{ pl.label }}</h3>
          <p>{{ pl.descriptionCourte }}</p>
          <ion-button fill="clear" size="small" (click)="goTo('/results')">
            Voir les résultats
          </ion-button>
        </div>

        <div class="panel-card secondary" *ngIf="questionOfTheDay">
          <div class="panel-chip muted">Question du jour</div>
          <p>{{ questionOfTheDay }}</p>
          <ion-button fill="clear" size="small" (click)="goTo('/questions')">
            Nouvelle question
          </ion-button>
        </div>
      </div>
    </section>

    <section class="modules">
      <div class="section-title">
        <p class="eyebrow">Expériences</p>
        <h2>Tout pour faire grandir vos liens</h2>
      </div>
      <div class="module-grid">
        <button type="button" class="module-card" (click)="goTo('/quiz')">
          <div class="icon-circle primary">
            <ion-icon name="bulb-outline"></ion-icon>
          </div>
          <div class="module-copy">
            <h3>Test guidé</h3>
            <p>15 questions adaptatives pour révéler ton langage d’amour principal.</p>
          </div>
          <span class="cta">Commencer</span>
        </button>
        <button type="button" class="module-card" (click)="goTo('/gestures')">
          <div class="icon-circle">
            <ion-icon name="gift-outline"></ion-icon>
          </div>
          <div class="module-copy">
            <h3>Idées personnalisées</h3>
            <p>Des gestes concrets adaptés à ton couple, ta famille ou tes amis.</p>
          </div>
          <span class="cta">Explorer</span>
        </button>
        <button type="button" class="module-card" (click)="goTo('/questions')">
          <div class="icon-circle secondary">
            <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
          </div>
          <div class="module-copy">
            <h3>Questions inspirantes</h3>
            <p>Tire au sort un sujet profond ou léger pour lancer une belle conversation.</p>
          </div>
          <span class="cta">Lancer une question</span>
        </button>
      </div>
    </section>

    <section class="insights-grid">
      <article class="insight-card highlight" *ngIf="latestResult && primaryLanguage as pl">
        <div class="card-head">
          <div>
            <p class="eyebrow">Dernier résultat</p>
            <h3>{{ pl.label }}</h3>
          </div>
          <ion-button fill="clear" size="small" (click)="goTo('/results')">
            Voir
          </ion-button>
        </div>
        <p>{{ pl.descriptionCourte }}</p>
      </article>

      <article class="insight-card" *ngIf="questionOfTheDay">
        <div class="card-head">
          <div>
            <p class="eyebrow">Question d’ouverture</p>
            <h4>Inspiration du jour</h4>
          </div>
          <ion-icon name="help-circle-outline"></ion-icon>
        </div>
        <p>{{ questionOfTheDay }}</p>
        <ion-button fill="clear" size="small" (click)="goTo('/questions')">
          Nouvelle question
        </ion-button>
      </article>

      <article class="insight-card" *ngIf="featuredGestures.length">
        <div class="card-head">
          <div>
            <p class="eyebrow">Idées du jour</p>
            <h4>Gestes pour toi</h4>
          </div>
          <ion-button fill="clear" size="small" (click)="goTo('/gestures')">
            Tout voir
          </ion-button>
        </div>
        <ul>
          <li *ngFor="let gesture of featuredGestures">
            <div class="gesture-title">{{ gesture.title }}</div>
            <p>{{ gesture.description }}</p>
          </li>
        </ul>
      </article>
    </section>
  </div>
</ion-content>
