<ion-header translucent="true">
  <cupid-toolbar title="Profil" [showBack]="true"></cupid-toolbar>
</ion-header>

<ion-content fullscreen="true">
  <div class="page-shell profile">
    <cupid-card title="Personnalise ton expérience" subtitle="CupidArrow">
      <p class="subtitle">Ces informations nous aident à te proposer des questions et suggestions adaptées.</p>
      <form [formGroup]="form" (ngSubmit)="saveProfile()" class="profile-form" novalidate>
        <div class="ca-form-field">
          <label for="prenom">Prénom</label>
          <ion-input
            id="prenom"
            class="ca-form-control"
            formControlName="prenom"
            required
            aria-required="true"
            placeholder="Ex : Léa"></ion-input>
          <p class="ca-form-error" *ngIf="form.controls.prenom.touched && form.controls.prenom.invalid">
            Merci d'indiquer au moins 2 caractères.
          </p>
        </div>

        <div class="ca-form-field">
          <label for="relationship">Type de relation</label>
          <ion-select
            id="relationship"
            class="ca-form-control"
            formControlName="relationshipType"
            interface="popover"
            aria-label="Type de relation">
            <ion-select-option *ngFor="let type of relationshipTypes" [value]="type">
              {{ relationshipLabels[type] }}
            </ion-select-option>
          </ion-select>
        </div>

        <div class="actions">
          <cupid-button type="submit" [disabled]="saving || form.invalid" [fullWidth]="true">
            {{ saving ? 'Sauvegarde…' : 'Continuer vers le test' }}
          </cupid-button>
        </div>
      </form>
    </cupid-card>
  </div>
</ion-content>
